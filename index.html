<html>
    <head>
        <link rel="stylesheet" type="text/css" href="styles.css">
        <script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.js"></script>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/datepicker/0.6.5/datepicker.min.css" />
        
        <!-- Compiled and minified CSS -->
    </head>
    <body>
        <div class="header">
            <div class="header-item">1</div>
            <div class="header-item">2</div>
            <div class="header-item">3</div>
            <div class="header-item">4</div>
        </div>
        <div class="body">
            <div class="date-picker">
                <i class="fa fa-calendar"></i>
                <div id="reportrange" class="date-text">
                    <span></span>
                </div>
            </div>
            <div class="first-block">
                <div class="card">
                    <p class="title">התפלגות<br/>תקבולים</p>
                    <div class="card-body"></div>
                </div>
                <div class="card">
                    <p class="title">הכנסות</p>
                    <div class="card-body"></div>
                </div>
                <div class="card">
                    <p class="title">התפלגות<br/>מכירות</p>
                    <div class="card-body"></div>
                </div>
            </div>
            <div class="second-block">
                <div class="card-group">
                    <div class="card">
                        <p class="title">עסקים כמוך</p>
                    <div class="card-body"></div>
                    </div>
                    <div class="card">
                        <p class="title">עסקים לידך</p>
                        <div class="card-body"></div>
                    </div>
                </div>
                <div class="card">
                    <p class="title">הנחות</p>
                    <div class="card-body"></div>
                </div>
                <div class="card">
                    <p class="title">התפלגות לקוחות - גיל</p>
                    <div class="card-body">
                        <div class="content"></div>
                        <div class="button-group">
                            <button class="btn-blue-reverse btn-small">מגורים</button>
                            <button class="btn-green-reverse btn-small">גיל</button>
                            <button class="btn-green-reverse btn-small">מגדר</button>
                            <p>בחירת התפלגות</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="third-block">
                <div class="content">
                    <div class="first-content">
                        <p>הכנסות</p>
                        <p><span>620K</span>מצטבר מתחילת החודש:</p>
                        <p><span>620K</span>מצטבר מתחילת השנה:</p>
                    </div>
                    <div class="second-content">
                        <p>55 תווים לטקסט חופשי לורם איפסום</p>
                        <p>דולור סיט אמט, קונסקט</p>
                    </div>
                    <button class="btn-green-reverse btn-normal">להקדמת תשלומים</button>
                </div>
                <button class="btn-green btn-large">המלצות</button>
            </div>
            <div class="third-block">
                <div class="content">
                    <button class="btn-green btn-special">החודש פרסמת X מבצעים </button>
                    <button class="btn-green-reverse btn-normal">יצירת מבצעקנה קבל</button>
                    <button class="btn-green-reverse btn-normal">יצירת מבצע 1+1</button>
                    <button class="btn-green-reverse btn-normal">יצירת הנחה</button>
                </div>
                <button class="btn-blue btn-large">מבצעים</button>
            </div>
        </div>
        <div id="open-modal" class="modal-window">
            <div class="modal">
                <div class="modal-header">
                    <a title="Close" class="modal-close">X</a>
                    <p class="modal-title">מבצעים</p>
                </div>
                <div class="modal-menu">
                    <p class="menu-item">יצירת מבצע קנה קבל</p>
                    <p class="menu-item">יצירת מבצע 1+1</p>
                    <p class="menu-item active">יצירת מבצע הנחות</p>
                </div>
                <div class="modal-scroll">
                    <div class="modal-body">
                        <div class="body-left">
                            <div class="group">
                                <div class="group-title">
                                    הגדרת מבצע
                                    <div class="group-title-number">
                                        2
                                    </div>
                                </div>
                            </div>
                            <div class="group">
                                <div class="sub-group">
                                    <i class="fa fa-calendar"></i>
                                    <input id="date_picker2" class="date-picker"><label class="label-datepicker">2שם ה</label>
                                </div>
                                <div class="sub-group"> 
                                    <i class="fa fa-calendar"></i>
                                    <input id="date_picker1" class="date-picker"><label class="label-datepicker"> 1שםצר</label>
                                </div>
                            </div>
                            <div class="group">
                                <input class="text-field" type="text" required>
                                <label>שם המוצר</label>
                            </div>
                            <div class="group">
                                <input class="text-field" type="text" required>
                                <label>שם % הנחה</label>
                            </div>
                            <div class="group">
                                <input class="text-field" type="text" required>
                                <label>כמות מינ’</label>
                            </div>  
                            <div class="group">
                                <input class="text-field" type="text" required>
                                <label>כמות מקס’</label>
                            </div>
                            <div class="group align-left">
                                <button class="btn-modal">מגדר</button>
                            </div>
                        </div>
                        <div class="body-right">
                            <div class="group">
                                <div class="group-title">
                                    הגדרת מבצע
                                    <div class="group-title-number">
                                        1
                                    </div>
                                </div>
                            </div>
                            <div class="group">
                                <div class="custom-select" style="width:200px;">
                                    <select>
                                        <option value="0">36-54</option>
                                        <option value="1">54-100</option>
                                        <option value="2">100-300</option>
                                    </select>
                                </div>
                                <label> מקסכמות’</label>
                            </div>
                            <div class="group">
                                <label class="container">
                                    <input type="checkbox" checked="checked">
                                    <span class="checkmark"></span > 
                                    <span class="checkbox-label">הגדרת</span>
                                </label>
                                <label class="container">
                                    <input type="checkbox" checked="checked">
                                    <span class="checkmark"></span> 
                                    <span class="checkbox-label">הגדרת</span>
                                </label>
                                <label> מקסכמות’</label>
                            </div>
                            <div class="group">
                                <label class="container">
                                    <input type="checkbox" checked="checked">
                                    <span class="checkmark"></span > 
                                    <span class="checkbox-label">הגדרת</span>
                                </label>
                                <label> מקסכמות’</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </body>
    <script>
        $(function() {
            var start = moment().subtract(29, 'days');
            var end = moment();

            function cb(start, end) {
                $('#reportrange span').html(start.format('MM. D. YY') + ' - ' + end.format('MM. D. YY'));
            }
            $('#reportrange').daterangepicker({
                startDate: start,
                endDate: end,
                ranges: {
                'Today': [moment(), moment()],
                'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],
                'Last 7 Days': [moment().subtract(6, 'days'), moment()],
                'Last 30 Days': [moment().subtract(29, 'days'), moment()],
                'This Month': [moment().startOf('month'), moment().endOf('month')],
                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]
                }
            }, cb);
            cb(start, end);

            $('#date_picker1').datepicker({format:'MM. D. YY'});
            $('#date_picker2').datepicker({format:'MM. D. YY'});
            
        });
        $( "button" ).click(function() {
            $("#open-modal").addClass("open");
        });
        $(".modal-close").click(function() {
            $("#open-modal").removeClass("open");
        })

 

        /* for select */

        var x, i, j, selElmnt, a, b, c;
        /*look for any elements with the class "custom-select":*/
        x = document.getElementsByClassName("custom-select");
        for (i = 0; i < x.length; i++) {
        selElmnt = x[i].getElementsByTagName("select")[0];
        /*for each element, create a new DIV that will act as the selected item:*/
        a = document.createElement("DIV");
        a.setAttribute("class", "select-selected");
        a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
        x[i].appendChild(a);
        /*for each element, create a new DIV that will contain the option list:*/
        b = document.createElement("DIV");
        b.setAttribute("class", "select-items select-hide");
        for (j = 0; j < selElmnt.length; j++) {
            /*for each option in the original select element,
            create a new DIV that will act as an option item:*/
            c = document.createElement("DIV");
            c.innerHTML = selElmnt.options[j].innerHTML;
            c.addEventListener("click", function(e) {
                /*when an item is clicked, update the original select box,
                and the selected item:*/
                var y, i, k, s, h;
                s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                h = this.parentNode.previousSibling;
                for (i = 0; i < s.length; i++) {
                if (s.options[i].innerHTML == this.innerHTML) {
                    s.selectedIndex = i;
                    h.innerHTML = this.innerHTML;
                    y = this.parentNode.getElementsByClassName("same-as-selected");
                    for (k = 0; k < y.length; k++) {
                    y[k].removeAttribute("class");
                    }
                    this.setAttribute("class", "same-as-selected");
                    break;
                }
                }
                h.click();
            });
            b.appendChild(c);
        }
        x[i].appendChild(b);
        a.addEventListener("click", function(e) {
            /*when the select box is clicked, close any other select boxes,
            and open/close the current select box:*/
            e.stopPropagation();
            closeAllSelect(this);
            this.nextSibling.classList.toggle("select-hide");
            this.classList.toggle("select-arrow-active");
            });
        }
        function closeAllSelect(elmnt) {
        /*a function that will close all select boxes in the document,
        except the current select box:*/
        var x, y, i, arrNo = [];
        x = document.getElementsByClassName("select-items");
        y = document.getElementsByClassName("select-selected");
        for (i = 0; i < y.length; i++) {
            if (elmnt == y[i]) {
            arrNo.push(i)
            } else {
            y[i].classList.remove("select-arrow-active");
            }
        }
        for (i = 0; i < x.length; i++) {
            if (arrNo.indexOf(i)) {
            x[i].classList.add("select-hide");
            }
        }
        }
        /*if the user clicks anywhere outside the select box,
        then close all select boxes:*/
        document.addEventListener("click", closeAllSelect);
    </script>
</html>